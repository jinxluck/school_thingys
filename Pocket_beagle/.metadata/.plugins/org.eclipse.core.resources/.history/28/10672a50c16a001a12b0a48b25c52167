/*
 * main.cpp
 *
 *  Created on: 20 Mar 2020
 *      Author: jinxluck
 */

#include<iostream>
#include<unistd.h> //for usleep
#include"GPIO_controle.h"

using namespace std;

int GPIO_IN = 52; //P2.06
int GPIO_OUT = 15; //P2.08

int main(void)
{
	printf("V2.2\n\n");
	int val= 0;

	printf(" *Setting directions\n");
	set_direction(GPIO_IN, 0);
	set_direction(GPIO_OUT, 1);

	printf(" *Starting loop\n");
	printf("    Use ctrl+c to stop program \n");

	while(1)
	{
		val = read_value(GPIO_IN);
		printf("GI: %d\n",val);
		if(val)
		{
			set_value(GPIO_OUT, 1);
			printf("GO: 1\n");
		}
		else
		{
			set_value(GPIO_OUT, 0);
			printf("GO: 0\n");
		}
	}



	return 0;
}
